(function(_0x4d5aee,_0x322f81){var _0x52eb8e=a0_0x636f,_0x4eaad1=_0x4d5aee();while(!![]){try{var _0x5a67ea=-parseInt(_0x52eb8e(0x137))/0x1*(parseInt(_0x52eb8e(0x153))/0x2)+parseInt(_0x52eb8e(0x132))/0x3+parseInt(_0x52eb8e(0x145))/0x4+parseInt(_0x52eb8e(0x147))/0x5*(parseInt(_0x52eb8e(0x13c))/0x6)+-parseInt(_0x52eb8e(0x156))/0x7*(-parseInt(_0x52eb8e(0x138))/0x8)+parseInt(_0x52eb8e(0x142))/0x9*(parseInt(_0x52eb8e(0x13b))/0xa)+parseInt(_0x52eb8e(0x12d))/0xb*(-parseInt(_0x52eb8e(0x12c))/0xc);if(_0x5a67ea===_0x322f81)break;else _0x4eaad1['push'](_0x4eaad1['shift']());}catch(_0x41a855){_0x4eaad1['push'](_0x4eaad1['shift']());}}}(a0_0x59d2,0xdcbdc));import{playApplause,playError}from'./audio.js';import{updateScores,updateLevel,randomPhrase}from'./gameUtils.js';import{levelPhrases}from'./phrases.js';function a0_0x636f(_0x2ea371,_0x7e94ec){var _0x59d248=a0_0x59d2();return a0_0x636f=function(_0x636f03,_0x5e7996){_0x636f03=_0x636f03-0x127;var _0x26f405=_0x59d248[_0x636f03];return _0x26f405;},a0_0x636f(_0x2ea371,_0x7e94ec);}var SpeechRecognition=SpeechRecognition||webkitSpeechRecognition,SpeechGrammarList=SpeechGrammarList||webkitSpeechGrammarList,SpeechRecognitionEvent=SpeechRecognitionEvent||webkitSpeechRecognitionEvent,recognitionTimeout,attemptCount=0x0;function initSpeechRecognition(){}function a0_0x59d2(){var _0x2a4e2e=['27ABIppi','grammars','phraseImage','6608652SLGiMB','onerror','15055XMnemf','incorrectCount','currentLevel','onend','src','length','textContent','style','#JSGF\x20V1.0;\x20grammar\x20phrase;\x20public\x20<phrase>\x20=\x20','onspeechend','onresult','logo','14oQsqDK','testBtn','results','44779RilKLr','stop','maxAlternatives','correctCount','disabled','interimResults','456kKivlh','1072698xcromn','img/happy_mode.png','en-US','block','setItem','1832382Nqrzzi','display','You\x27ve\x20reached\x20the\x20maximum\x20number\x20of\x20attempts.\x20Restarting\x20the\x20game.','lang','keys','97491oPLlJb','1416NGJnWZ','start','Error\x20occurred\x20in\x20recognition:\x20','3292430uyrgux','1812qTAUUe','The\x20game\x20has\x20been\x20restarted.','addFromString','transcript','toLowerCase','Start\x20new\x20test'];a0_0x59d2=function(){return _0x2a4e2e;};return a0_0x59d2();}function testSpeech(){var _0xab91ff=a0_0x636f;if(attemptCount>=0x5){alert(_0xab91ff(0x134)),restartGame();return;}window[_0xab91ff(0x154)][_0xab91ff(0x12a)]=!![],window['testBtn'][_0xab91ff(0x14d)]='Test\x20in\x20progress';var _0x219b71=randomPhrase(),_0x12d629=levelPhrases[window[_0xab91ff(0x149)]][_0x219b71],_0x244905=_0x219b71[_0xab91ff(0x140)]();window[_0xab91ff(0x144)][_0xab91ff(0x14b)]=_0x12d629,window['phraseImage'][_0xab91ff(0x14e)][_0xab91ff(0x133)]=_0xab91ff(0x130);var _0x1b553a=_0xab91ff(0x14f)+_0x244905+';',_0x571845=new SpeechRecognition(),_0x50db80=new SpeechGrammarList();_0x50db80[_0xab91ff(0x13e)](_0x1b553a,0x1),_0x571845[_0xab91ff(0x143)]=_0x50db80,_0x571845[_0xab91ff(0x135)]=_0xab91ff(0x12f),_0x571845[_0xab91ff(0x12b)]=![],_0x571845[_0xab91ff(0x128)]=0x1,_0x571845[_0xab91ff(0x139)](),recognitionTimeout=setTimeout(function(){var _0x366891=_0xab91ff;_0x571845[_0x366891(0x127)](),handleNoSpeechDetected();},0x2710),_0x571845[_0xab91ff(0x151)]=function(_0x19952b){var _0x5e0ee0=_0xab91ff;clearTimeout(recognitionTimeout);var _0x21418d=_0x19952b[_0x5e0ee0(0x155)][0x0][0x0][_0x5e0ee0(0x13f)][_0x5e0ee0(0x140)]();_0x21418d===_0x244905?(window['logo'][_0x5e0ee0(0x14b)]=_0x5e0ee0(0x12e),window['correctCount']++,playApplause(),window[_0x5e0ee0(0x129)]%0x4===0x0&&(window[_0x5e0ee0(0x149)]++,window[_0x5e0ee0(0x149)]>Object[_0x5e0ee0(0x136)](levelPhrases)[_0x5e0ee0(0x14c)]&&(window['currentLevel']=0x1),updateLevel())):(window[_0x5e0ee0(0x152)]['src']='img/sad_mode.png',window[_0x5e0ee0(0x148)]++,playError()),updateScores(),attemptCount++,setTimeout(function(){var _0x1334f6=_0x5e0ee0;attemptCount>=questions[_0x1334f6(0x14c)]&&(window[_0x1334f6(0x154)]['disabled']=![]),window['testBtn']['textContent']=_0x1334f6(0x141);},0x7d0);},_0x571845[_0xab91ff(0x150)]=function(){clearTimeout(recognitionTimeout),_0x571845['stop']();},_0x571845[_0xab91ff(0x146)]=function(_0x311d33){var _0xdca8f6=_0xab91ff;clearTimeout(recognitionTimeout),handleNoSpeechDetected(),console['log'](_0xdca8f6(0x13a)+_0x311d33['error']);},_0x571845[_0xab91ff(0x14a)]=function(_0x58325d){var _0x434a31=_0xab91ff;clearTimeout(recognitionTimeout),window['testBtn'][_0x434a31(0x12a)]=![],window[_0x434a31(0x154)][_0x434a31(0x14d)]=_0x434a31(0x141);};}function handleNoSpeechDetected(){var _0xff434b=a0_0x636f;window['logo'][_0xff434b(0x14b)]='img/sad_mode.png',window[_0xff434b(0x148)]++,playError(),updateScores(),window[_0xff434b(0x154)]['disabled']=![],window[_0xff434b(0x154)]['textContent']='Start\x20new\x20test';}function restartGame(){var _0x5ae4ed=a0_0x636f;window[_0x5ae4ed(0x129)]=0x0,window[_0x5ae4ed(0x148)]=0x0,window[_0x5ae4ed(0x149)]=0x1,attemptCount=0x0,localStorage[_0x5ae4ed(0x131)]('correctCount',window[_0x5ae4ed(0x129)]),localStorage[_0x5ae4ed(0x131)](_0x5ae4ed(0x148),window[_0x5ae4ed(0x148)]),updateLevel(),updateScores(),alert(_0x5ae4ed(0x13d));}export{initSpeechRecognition,testSpeech};